<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml" 
            fx:controller="com.ibrasoft.jdriveclonr.ui.DriveContentController"
            prefWidth="900" prefHeight="700"
            minWidth="800" minHeight="600"
            stylesheets="@../styles/dark/drive-content.css">

    <!-- Header Section -->
    <top>
        <VBox styleClass="content-container" spacing="16">
            <VBox spacing="8">
                <Label text="Select Files to Download" styleClass="title-medium"/>
                <Label text="Choose the files and folders you want to backup from your Google Drive" 
                       styleClass="subtitle"/>
            </VBox>
            
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="ðŸ’¡" styleClass="title-small"/>
                <Label text="Pro Tip: You can select entire folders or individual files. Large files may take longer to download." 
                       styleClass="caption-text" wrapText="true"/>
            </HBox>
        </VBox>
    </top>

    <!-- Main Content -->
    <center>
        <VBox styleClass="content-container" VBox.vgrow="ALWAYS">
            <StackPane VBox.vgrow="ALWAYS" styleClass="card">
                <VBox styleClass="card-content" VBox.vgrow="ALWAYS">
                    <TreeView fx:id="driveTreeView" showRoot="false" VBox.vgrow="ALWAYS"/>
                </VBox>
                
                <!-- Loading Overlay -->
                <VBox fx:id="loadingOverlay" alignment="CENTER" spacing="16" 
                      styleClass="loading-overlay" visible="true">
                    <ProgressIndicator fx:id="progressIndicator" prefWidth="48" prefHeight="48"/>
                    <VBox alignment="CENTER" spacing="8">
                        <Label text="Loading your Drive content..." styleClass="subtitle"/>
                        <Label text="This may take a moment for large drives with many files" 
                               styleClass="caption-text"/>
                    </VBox>
                </VBox>
            </StackPane>
        </VBox>
    </center>
    
    <!-- Bottom Actions -->
    <bottom>
        <HBox styleClass="content-container" spacing="16" alignment="CENTER_RIGHT">
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Back" onAction="#onBackClicked" styleClass="secondary-button"/>
            <Button text="Continue" onAction="#onStartCloneClicked" 
                    styleClass="primary-button" fx:id="startCloneButton"/>
        </HBox>
    </bottom>

</BorderPane>